@model OrderSystem.Database.Models.Order

<h3>Избрани артикули</h3>
<div>
    @Html.Label("Номер на поръчката: ")
    @Html.Label(Model.Number)
</div>
@using (Html.BeginForm())
{
    @Html.HiddenFor(m => m.OrderId)
    <table class="table table-striped table-hover" style="width:75%">
        <thead style="width:100%;">
            <tr class="d-flex text-light" style="background-color:cadetblue">
                <th class="col-3">
                    Име
                </th>
                <th class="col-2">
                    Цена
                </th>
                <th class="col-2">
                    Количество
                </th>
                <th class="col-2">
                    Марка
                </th>
                <th class="col-2">
                    Модел
                </th>
                <th class="col-1">
                </th>
            </tr>
        </thead>
        <tbody style="width:100%; overflow-x:hidden;">
            @for (int i = 0; i < Model.OrderDetails.Count; i++)
            {
                <tr class="d-flex">
                    <td class="col-3 column-break-word">
                     @Model.OrderDetails[i].Part.Name
                    </td>
                    <td class="col-2 column-break-word">
                        @Model.OrderDetails[i].Price
                    </td>
                    <td class="col-2 column-break-word">
                        <input class="form-control"
                               style="width:120px;height:30px;"
                               id="Quantity"
                               name="Quantity"
                               value="@Model.OrderDetails[i].Quantity"
                               type="text"
                               placeholder="количество" />
                    </td>

                    <td class="col-2">
                        @Model.OrderDetails[i].Part.BrandDetail.Brand.Name
                    </td>
                    <td class="col-2">
                        Двигател: @Model.OrderDetails[i].Part.BrandDetail.EngineType, к.с. @Model.OrderDetails[i].Part.BrandDetail.Power
                    </td>
                    <td class="col-1">
                        <button id="gosho" type="button" class="delete btn btn-outline-danger btn-sm docs-table-body-delete-btn" data-id="@Model.OrderDetails[i].Part.PartId">✕</button>
                    </td>
                </tr>
              //  @Html.Hidden("PartId", "", new { id = Model.OrderDetails[i].Part.PartId })
            }
        </tbody>
    </table>

    <div>
        <div>
            <input class="col-3" type="submit" value="Завърши поръчката" />
        </div>
    </div>
}
@*<script>
    $('#gosho').click(function () {
        var id = $('#PartId').val();
        alert(id);
        var url = '/ShoppingCart/Delete'

        $.ajax({
            type: "POST",
            url: url,
            data: {
                id: id
            }
        }).done(function () {
        });
    }

</script>*@
<style>
    .column-break-word {
        word-break: break-all;
    }

    .docs-table-body-delete-btn {
        width: 30px;
        height: 30px;
    }
</style>
